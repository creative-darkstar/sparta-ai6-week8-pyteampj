<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<body>
    <h1 style="text-align: center;">Hello, World!</h1>
    <div class="container">
        <div class="d-grid gap-2 d-md-flex justify-content-md-start">
            <div class="btn btn-outline-primary btn-sm disabled"> {{ data.content.category }} </div>
            {% if data.is_content_owner is true %}
            <a class="btn btn-secondary btn-sm" href="/edit/{{ data.contentinfo_id }}" role="button">수정 / 삭제</a>
            {% endif %}
        </div>
        <p></p>
        <div class="content">
			<table class="table table-striped" style="text-align: center; border: 1px solid #dddddd">
			<!-- 게시판에 글 목록들이 홀수와 짝수가 번갈아가며 색상이 변경됨. -->
                <thead>
					<tr>
						<th colspan="2" style="background-color: #ffffff; text-align: center; font-size: 20px">{{ data.content.title }}</th>
					</tr>
                    <tr>
                        <th colspan="2" style="background-color: #eeeeee; text-align: left;">
                            작성자: {{ data.content.userinfo_id }}
                        </th>
                    </tr>
                    <tr>
                        <td style="background-color: #eeeeee; text-align: left;">
                            작성일시: {{ data.content.create_date }} | 수정일시: {{ data.content.update_date }}
                        </td>
                    </tr>
				</thead>
			</table>
            {% for item in data.content.images %}
            <p>
                <img src="{{ item }}" alt="">
            </p>
            {% endfor %}
            <p>{{ data.content.content }}</p>
		</div>
        <hr>
	</div>
    <div class="container">
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <a href="/write" class="btn btn-outline-dark" style="align: right">글 쓰기</a>
        </div>
        <h2>comments</h2>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">작성자</th>
                    <th scope="col">댓글</th>
                    <th colspan="2" scope="col">최근수정일시</th>
                </tr>
            </thead>
            <tbody id="comments">
                {% for item in data.comments %}
                <tr>
                    <td>{{ item.userinfo_id }}</td>
                    <td>{{ item.comment }}</td>
                    {% if item.is_comment_owner is true %}
                    <td>{{ item.cm_update_date }}</td>
                    <td>
                        <button class="btn btn-secondary pull-right" type="button" onclick="getUserName()">Edit</button>
                        <button class="btn btn-danger pull-right" type="button" onclick="getUserName()">Delete</button>
                    </td>
                    {% else %}
                    <td colspan="2">{{ item.cm_update_date }}</td>
                    {% endif %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% if data.is_more_comment is true %}
        <form method="post">
            <button class="btn btn-primary" type="submit" style="width: 100%">더 보기</button>
        </form>
        <p></p>
        {% endif %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous">
    </script>
    <script>
        history.replaceState({}, null, location.pathname);
    </script>
</body>

</html>